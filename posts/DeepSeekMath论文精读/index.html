<!DOCTYPE html><html lang="zh" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="&lt;p&gt;这里只有冷静思考，没有浮夸喧哗 &lt;/p&gt; 这里只有算法与代码，没有装饰和繁杂">
      
      
        <meta name="author" content="Xiaochuan Zhang">
      
      
        <link rel="canonical" href="https://matrixmind.fun/posts/DeepSeekMath%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>DeepSeekMath论文精读 - MatrixMind.Fun</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+SC:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Noto Sans SC";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/brand.css">
    
      <link rel="stylesheet" href="https://unpkg.com/glightbox/dist/css/glightbox.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#0" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="MatrixMind.Fun" class="md-header__button md-logo" aria-label="MatrixMind.Fun" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MatrixMind.Fun
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              DeepSeekMath论文精读
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="cyan" aria-label="深色模式" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="深色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="cyan" aria-label="浅色模式" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="浅色模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81zM1 13h3v-2H1m12 9h-2v3h2"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/zhangxiaochuan" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link">
        
  
  
    
  
  Posts

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../tags/" class="md-tabs__link">
        
  
  
    
  
  Tags

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../projects/" class="md-tabs__link">
        
  
  
    
  
  Projects

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        
  
  
    
  
  About

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MatrixMind.Fun" class="md-nav__button md-logo" aria-label="MatrixMind.Fun" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    MatrixMind.Fun
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zhangxiaochuan" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Posts
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tags
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../projects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Projects
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#0" class="md-nav__link">
    <span class="md-ellipsis">
      
        0. 引言
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 为什么先从数据工程说起
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-deepseekmath" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. DeepSeekMath 项目脉络
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. 数据处理 pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 数据处理 pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 端到端视图
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1 端到端视图">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.1. 候选发现
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#312" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.2. 迭代回采
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#313" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.3. 内容抽取与结构化
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#314" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.4. 清洗与去污
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#315" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.5. 质量评估与抽样
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#316" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.6. 数据混合策略
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#317" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.7. 标注一致化与审计
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 两个关键子模块
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 指令数据的统一格式
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-sft" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. 训练工艺：从继续预训练到 SFT
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-grpo" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. GRPO：轻量但有效的强化学习
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. 实验结果
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. 实验结果">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 数据流水线带来了什么
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1 数据流水线带来了什么">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#611-deepseekmath-corpus-vs-13bfew-shot-cot" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1.1 语料对比：DeepSeekMath Corpus vs 其他数学语料（1.3B模型，few-shot CoT）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#612" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1.2 抓取与去污的关键动作
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 继续预训练：代码基座 + 混合配比的收益
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3 指令微调：把“题面-推理-答案”统一起来
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-grpo" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.4 GRPO强化学习：小改造，实打实的增益
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.5 代码训练为什么要保留：程序辅助推理和通用能力都受益
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.5 代码训练为什么要保留：程序辅助推理和通用能力都受益">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#651-13b" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.5.1 两阶段与一阶段的实测（1.3B）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#652-13b" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.5.2 代码与数学混合的一阶段训练还能守住编程能力（1.3B）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#66-arxiv" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.6 关于arXiv：在本项设置下收益不明显
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#67" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.7 模块作用与数据支撑小结
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. 总结与思考
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/zhangxiaochuan/edit/main/docs/posts/DeepSeekMath论文精读.md" title="编辑此页" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
    </a>
  
  


  <h1>DeepSeekMath论文精读</h1>

<div class="mmf-tags">
  <span class="mmf-tags-title">标签：</span>
  <a class="mmf-tag" href="/tags/llm/" title="LLM">LLM</a><a class="mmf-tag" href="/tags/强化学习/" title="强化学习">强化学习</a><a class="mmf-tag" href="/tags/deepseek/" title="DeepSeek">DeepSeek</a>
</div>

<h2 id="0">0. 引言<a class="headerlink" href="#0" title="Permanent link">¶</a></h2>
<ul>
<li><strong>定位</strong>：DeepSeekMath 是在代码基座上继续预训练的大规模数学模型，随后用指令微调与轻量强化学习进一步打磨。</li>
<li><strong>关键抓手</strong>：<ol>
<li><strong>数据侧</strong>：用可迭代的网页挖掘与清洗流水线，构造约百亿量级的数学 token 继续预训练；</li>
<li><strong>训练侧</strong>：在不引入价值网络的前提下，用 <strong>GRPO</strong> 进行强化学习，使策略分布更稳定。</li>
</ol>
</li>
<li><strong>结果</strong>：7B 量级模型在 GSM8K 与 MATH 等基准上取得强竞争力，在不开外部工具的设置下，报告显示 MATH Top-1 超过 50%，自一致性少样本采样进一步上升。</li>
</ul>
<h2 id="1">1. 为什么先从数据工程说起<a class="headerlink" href="#1" title="Permanent link">¶</a></h2>
<p>多数“数学推理”工作的分水岭，不在“模型是否更深奥”，而在<strong>数据是否更对路</strong>。DeepSeekMath 的一个直接经验是：</p>
<ul>
<li>从<strong>代码模型</strong>起步（更强的符号与语法感知），</li>
<li>用<strong>大规模网页数学文本</strong>做继续预训练（远大于常见教材与论文体量），</li>
<li>再用<strong>结构良好的指令数据</strong>做 SFT，</li>
<li>最后用<strong>不那么重的 RL</strong> 做抛光。</li>
</ul>
<p>这条路线最大化利用了“数据分布与推理任务的一致性”，训练侧避免了“昂贵而脆弱的价值网络”，让小模型也能显出“稳定和复现”的质感。</p>
<h2 id="2-deepseekmath">2. DeepSeekMath 项目脉络<a class="headerlink" href="#2-deepseekmath" title="Permanent link">¶</a></h2>
<ul>
<li><strong>基座</strong>：以代码模型为起点的 7B。</li>
<li><strong>继续预训练</strong>：以网页数学语料为主，规模约百亿 token 级。</li>
<li><strong>SFT</strong>：约 70 多万条中英数学指令数据，覆盖 CoT、PoT、工具增强等格式。</li>
<li><strong>RL</strong>：采用 <strong>GRPO</strong>（Group Relative Policy Optimization），通过组内相对奖励估计优势，不再训练价值网络；在损失项里直接加入与参考策略的 KL 正则。</li>
</ul>
<h2 id="3-pipeline">3. 数据处理 pipeline<a class="headerlink" href="#3-pipeline" title="Permanent link">¶</a></h2>
<p>下面这条流水线不是“唯一正确”，但它解释了 DeepSeekMath 在“规模、纯度、结构化程度”上的做法，且便于复用到其他专业领域。</p>
<h3 id="31">3.1 端到端视图<a class="headerlink" href="#31" title="Permanent link">¶</a></h3>
<h4 id="311">3.1.1. 候选发现<a class="headerlink" href="#311" title="Permanent link">¶</a></h4>
<ul>
<li>用关键词、正则与轻量分类器（如 fastText）在 Common Crawl 这类大库里做初筛，给每个页面一个“数学相关度”打分。</li>
<li>以“样本高分页面的域名、目录模式”为线索，做<strong>域级与路径级扩张</strong>，比如持续抓取 <code>math.*</code>、<code>/problem/</code>、<code>/solution/</code> 一类高产路径。</li>
</ul>
<h4 id="312">3.1.2. 迭代回采<a class="headerlink" href="#312" title="Permanent link">¶</a></h4>
<ul>
<li>统计正例集中出现频率高的域名和 URL 模式，建立“可靠源清单”。</li>
<li>基于“域名得分 + 路径模板得分 + 页面得分”做加权回采，形成“数据-模式-回采”的<strong>闭环</strong>。</li>
</ul>
<h4 id="313">3.1.3. 内容抽取与结构化<a class="headerlink" href="#313" title="Permanent link">¶</a></h4>
<ul>
<li>HTML 去模板、去导航、去广告，保留正文与代码块；</li>
<li>识别题目、步骤、结论等结构片段，尽量抽取“题面-推理-答案”三段式；</li>
<li>识别公式块与行内公式，将其与上下文绑定，避免丢失语义邻域。</li>
</ul>
<h4 id="314">3.1.4. 清洗与去污<a class="headerlink" href="#314" title="Permanent link">¶</a></h4>
<ul>
<li>语言筛选（优先中英），长度与稠密度阈值过滤；</li>
<li>URL 归一化与去跟踪参数，精确去重（hash）与近重复去重（SimHash 或 MinHash）；</li>
<li>对基准集做 n-gram 层面的<strong>泄漏去重</strong>（如与 GSM8K、MATH 等形成黑名单 n-gram），防止训练-评测穿模。</li>
</ul>
<h4 id="315">3.1.5. 质量评估与抽样<a class="headerlink" href="#315" title="Permanent link">¶</a></h4>
<ul>
<li>训练轻量质量分类器，特征包含：数学密度、代码密度、困惑度、结构完整性等；</li>
<li>分位抽样，保证不同来源、不同子领域都能被覆盖；</li>
<li>对噪声较多的子域（例如几何与图形）单独加权补齐。</li>
</ul>
<h4 id="316">3.1.6. 数据混合策略<a class="headerlink" href="#316" title="Permanent link">¶</a></h4>
<ul>
<li>继续预训练阶段维持一个<strong>多元混合</strong>：数学网页为主，配比加入代码、学术论文、自然语言泛化文本等，以减缓“能力遗忘”；</li>
<li>指令阶段统一格式（见 3.3），兼顾 CoT、PoT 与工具格式，形成面向推理的高信度标注集。</li>
</ul>
<h4 id="317">3.1.7. 标注一致化与审计<a class="headerlink" href="#317" title="Permanent link">¶</a></h4>
<ul>
<li>统一标注模板，保证“题面-推理-答案”的列对齐；</li>
<li>对易错题型设立审计样本池，训练中周期性抽检，形成“数据-训练-评测-返修”的闭环。</li>
</ul>
<h3 id="32">3.2 两个关键子模块<a class="headerlink" href="#32" title="Permanent link">¶</a></h3>
<p><strong>A. 数学性判别器（Mathness Scorer）</strong></p>
<ul>
<li>输入特征：公式密度、数学术语词表匹配、代码与数字占比、句法复杂度、困惑度分段等。</li>
<li>目标：把“教程类”“题解类”“学术类”“论坛问答”等高价值页面打到高分，把“目录页”“聚合页”“广告页”打到低分。</li>
<li>用途：排序与阈值，指导回采与抽样。</li>
</ul>
<p><strong>B. 近重复去重（Near-Dup）</strong></p>
<ul>
<li>URL 层面：归一化去参；</li>
<li>文本层面：文段级分块，句子级去重，SimHash 或 MinHash 检测 80% 以上相似度的近重复；</li>
<li>评测泄漏守门：维持一个“评测 n-gram 黑名单”，训练集中若出现这些 n-gram 序列，直接剔除或替换。</li>
</ul>
<h3 id="33">3.3 指令数据的统一格式<a class="headerlink" href="#33" title="Permanent link">¶</a></h3>
<p>建议在 SFT 阶段统一到如下三段式模板，便于后续 RL 与评测：</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"题面（可含必要上下文与约束）"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"reasoning"</span><span class="p">:</span><span class="w"> </span><span class="s2">"逐步推理过程（CoT 或 PoT：可包含运行日志或中间变量）"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"最终答案（严格对齐评测口径）"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">"lang"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zh|en"</span><span class="p">,</span><span class="w"> </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"algebra|geometry|number_theory|..."</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>CoT：偏文字推演；</li>
<li>PoT：偏程序化推导（例如 Python 小段落），注意把“计算过程”与“口径一致的最终答案”明确区分；</li>
<li>工具格式：再加一个 <code>tool_calls</code> 字段，记录允许外部工具时的调用序列与返回值。</li>
</ul>
<h2 id="4-sft">4. 训练工艺：从继续预训练到 SFT<a class="headerlink" href="#4-sft" title="Permanent link">¶</a></h2>
<ul>
<li><strong>继续预训练</strong><ul>
<li>数据以数学网页为主，穿插一定比例代码、论文与通用文本；</li>
<li>目标是把“数学语义、符号习惯、题解文体”内化到基座里；</li>
<li>训练曲线关注困惑度、字表覆盖度、公式还原率、结构稳定性等指标。</li>
</ul>
</li>
<li><strong>SFT</strong><ul>
<li>用统一格式的指令数据做监督微调；</li>
<li>混合 CoT 与 PoT，PoT 关注“稳态可执行推导”，CoT 关注“可读与可审计的逻辑链”；</li>
<li>对齐评测口径：保证 <code>answer</code> 字段与基准评测的判分规则完全一致（大小写、空格、单位、分数与小数等）。</li>
</ul>
</li>
</ul>
<h2 id="5-grpo">5. GRPO：轻量但有效的强化学习<a class="headerlink" href="#5-grpo" title="Permanent link">¶</a></h2>
<p><strong>动机</strong>：PPO 虽然常用，但价值网络既吃显存又容易不稳，尤其在“奖励只在结尾给分”的数学任务上，token 级价值学习很难。<br>
<strong>GRPO 的取舍</strong>：</p>
<ul>
<li>不训练价值网络，直接在<strong>同题多解的组内</strong>做相对比较，以组内均值作为基线，构造优势；</li>
<li>KL 正则直接放到损失项里，约束新旧策略的偏移幅度；</li>
<li>仍保持 PPO 的裁剪结构，让更新不过猛。</li>
</ul>
<p><strong>一步到位的训练框</strong>：</p>
<ol>
<li>旧策略对同一题目采样 G 条候选；</li>
<li>用自动判分、格式校验或弱标签对候选给分；</li>
<li>计算组内相对奖励，得到每个 token 的优势估计；</li>
<li>新策略做裁剪后的策略梯度更新，同时加上对参考策略的 KL 正则；</li>
<li>监控两个指标：<ul>
<li><strong>Pass@K</strong>（至少一条正确）</li>
<li><strong>Maj@K</strong>（多数表决正确）<br>
经验证，RL 更明显改善 <strong>Maj@K</strong>，说明“正确解”从小概率尾部被挪到了主模态。</li>
</ul>
</li>
</ol>
<p><strong>超参提示</strong>：</p>
<ul>
<li>组大小 G 建议中等（例如 4 到 8），过小方差大，过大会拖慢；</li>
<li>KL 系数从小到中，配合温度与长度惩罚调优；</li>
<li>对“有明确答案”的题目更稳，对“开放式”或“几何绘图”类要小心噪声奖励。</li>
</ul>
<hr>
<h2 id="6">6. 实验结果<a class="headerlink" href="#6" title="Permanent link">¶</a></h2>
<h3 id="61">6.1 数据流水线带来了什么<a class="headerlink" href="#61" title="Permanent link">¶</a></h3>
<h4 id="611-deepseekmath-corpus-vs-13bfew-shot-cot">6.1.1 语料对比：DeepSeekMath Corpus vs 其他数学语料（1.3B模型，few-shot CoT）<a class="headerlink" href="#611-deepseekmath-corpus-vs-13bfew-shot-cot" title="Permanent link">¶</a></h4>
<table>
<thead>
<tr>
<th>语料</th>
<th style="text-align: right;">规模</th>
<th style="text-align: right;">GSM8K</th>
<th style="text-align: right;">MATH</th>
<th style="text-align: right;">MMLU STEM</th>
<th style="text-align: right;">CMATH</th>
</tr>
</thead>
<tbody>
<tr>
<td>无数学训练</td>
<td style="text-align: right;">N A</td>
<td style="text-align: right;">2.9</td>
<td style="text-align: right;">3.0</td>
<td style="text-align: right;">19.5</td>
<td style="text-align: right;">12.3</td>
</tr>
<tr>
<td>MathPile</td>
<td style="text-align: right;">8.9B</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">15.7</td>
<td style="text-align: right;">1.2</td>
</tr>
<tr>
<td>Proof-Pile-2</td>
<td style="text-align: right;">51.9B</td>
<td style="text-align: right;">14.3</td>
<td style="text-align: right;">11.2</td>
<td style="text-align: right;">29.2</td>
<td style="text-align: right;">19.9</td>
</tr>
<tr>
<td><strong>DeepSeekMath Corpus</strong></td>
<td style="text-align: right;"><strong>120.2B</strong></td>
<td style="text-align: right;"><strong>23.8</strong></td>
<td style="text-align: right;"><strong>13.6</strong></td>
<td style="text-align: right;"><strong>33.1</strong></td>
<td style="text-align: right;"><strong>41.5</strong></td>
</tr>
</tbody>
</table>
<p>可以看到，仅靠更好的网页数学语料，1.3B模型在GSM8K和CMATH上大幅领先同类语料，同时在MATH与MMLU STEM上也更稳。更重要的是，学习曲线随token持续上升，未过早“平台化”。</p>
<h4 id="612">6.1.2 抓取与去污的关键动作<a class="headerlink" href="#612" title="Permanent link">¶</a></h4>
<ul>
<li>fastText召回高分页面，按域与路径模式迭代回采，四轮后得到约35.5M页面、120B token；对评测集做n-gram去污染。</li>
<li>直接结论：网页挖掘是数学文本的“富矿”，规模与质量上均优于小体量的纯学术语料；后文也将看到，<strong>单用arXiv并不理想</strong>。</li>
</ul>
<h3 id="62">6.2 继续预训练：代码基座 + 混合配比的收益<a class="headerlink" href="#62" title="Permanent link">¶</a></h3>
<p><strong>7B Base与同类基座对比（few-shot CoT，不开工具）</strong></p>
<table>
<thead>
<tr>
<th>模型</th>
<th style="text-align: right;">尺寸</th>
<th style="text-align: right;">GSM8K</th>
<th style="text-align: right;">MATH</th>
<th style="text-align: right;">SAT</th>
<th style="text-align: right;">MMLU STEM</th>
<th style="text-align: right;">CMATH</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mistral</td>
<td style="text-align: right;">7B</td>
<td style="text-align: right;">40.3</td>
<td style="text-align: right;">14.3</td>
<td style="text-align: right;">71.9</td>
<td style="text-align: right;">51.1</td>
<td style="text-align: right;">44.9</td>
</tr>
<tr>
<td>Llemma</td>
<td style="text-align: right;">34B</td>
<td style="text-align: right;">54.0</td>
<td style="text-align: right;">25.3</td>
<td style="text-align: right;">71.9</td>
<td style="text-align: right;">52.9</td>
<td style="text-align: right;">56.1</td>
</tr>
<tr>
<td>Minerva</td>
<td style="text-align: right;">540B</td>
<td style="text-align: right;">58.8</td>
<td style="text-align: right;">33.6</td>
<td style="text-align: right;">63.9</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
</tr>
<tr>
<td><strong>DeepSeekMath-Base</strong></td>
<td style="text-align: right;"><strong>7B</strong></td>
<td style="text-align: right;"><strong>64.2</strong></td>
<td style="text-align: right;"><strong>36.2</strong></td>
<td style="text-align: right;"><strong>84.4</strong></td>
<td style="text-align: right;"><strong>56.5</strong></td>
<td style="text-align: right;"><strong>71.7</strong></td>
</tr>
</tbody>
</table>
<p>同为开源基座，DeepSeekMath-Base 7B在所有基准上都处于第一梯队，尤其MATH 36.2%显著超过同尺寸与更大尺寸的开源基座，接近Minerva大模型段位。其数据配比里<strong>仍保留20%代码与10%通用文本</strong>，有助于稳住通用能力。</p>
<h3 id="63-">6.3 指令微调：把“题面-推理-答案”统一起来<a class="headerlink" href="#63-" title="Permanent link">¶</a></h3>
<ul>
<li>约776K条中英数学指令，覆盖CoT、PoT与工具集成格式。以该数据在Base上做SFT，得到的Instruct 7B在不开工具时：GSM8K 82.9%，MATH 46.8%；允许工具时，MATH+Python 57.4%。</li>
</ul>
<h3 id="64-grpo">6.4 GRPO强化学习：小改造，实打实的增益<a class="headerlink" href="#64-grpo" title="Permanent link">¶</a></h3>
<p><strong>从Instruct到RL的增量</strong></p>
<table>
<thead>
<tr>
<th>模型</th>
<th style="text-align: right;">GSM8K</th>
<th style="text-align: right;">MATH</th>
<th style="text-align: right;">MGSM-zh</th>
<th style="text-align: right;">CMATH</th>
</tr>
</thead>
<tbody>
<tr>
<td>DeepSeekMath-Instruct 7B</td>
<td style="text-align: right;">82.9</td>
<td style="text-align: right;">46.8</td>
<td style="text-align: right;">73.2</td>
<td style="text-align: right;">84.6</td>
</tr>
<tr>
<td><strong>DeepSeekMath-RL 7B</strong></td>
<td style="text-align: right;"><strong>88.2</strong></td>
<td style="text-align: right;"><strong>51.7</strong></td>
<td style="text-align: right;"><strong>79.6</strong></td>
<td style="text-align: right;"><strong>88.8</strong></td>
</tr>
</tbody>
</table>
<p>允许工具时：GSM8K+Python从83.7%到86.7%，MATH+Python从57.4%到58.8%，中文两项也同步抬升。</p>
<p>RL前后对比显示，<strong>Maj@K显著提升，而Pass@K近似持平</strong>。这说明RL让正确解从“尾部小概率”迁移到“主模态”，减少采样数也能稳定拿到对。对工程落地，这等价于<strong>更省采样、更好复现</strong>。</p>
<h3 id="65">6.5 代码训练为什么要保留：程序辅助推理和通用能力都受益<a class="headerlink" href="#65" title="Permanent link">¶</a></h3>
<h4 id="651-13b">6.5.1 两阶段与一阶段的实测（1.3B）<a class="headerlink" href="#651-13b" title="Permanent link">¶</a></h4>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../assets/images/DeepSeekMath%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/1755486830071-512afb50-f07e-4188-8c8c-c227cab8fe1f.png" data-desc-position="bottom"><img alt="" src="../../assets/images/DeepSeekMath%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/1755486830071-512afb50-f07e-4188-8c8c-c227cab8fe1f.png"></a></p>
<p>先做代码再做数学，<strong>PoT类任务的能力更强</strong>，且二阶段后的整体表现更好。代码数据混合训练，对于工具使用效果更佳。</p>
<h4 id="652-13b">6.5.2 代码与数学混合的一阶段训练还能守住编程能力（1.3B）<a class="headerlink" href="#652-13b" title="Permanent link">¶</a></h4>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../../assets/images/DeepSeekMath%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/1755486877305-3eb0e8eb-90ae-4730-8579-dc33cc21c818.png" data-desc-position="bottom"><img alt="" src="../../assets/images/DeepSeekMath%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/1755486877305-3eb0e8eb-90ae-4730-8579-dc33cc21c818.png"></a></p>
<p>混合一阶段不但保持了推理与通用能力，还显著提高HumanEval和MBPP，缓解二阶段后的“灾难性遗忘”。对实务来说，这样的配比能让系统在<strong>数学与代码双轨任务</strong>上更稳。</p>
<h3 id="66-arxiv">6.6 关于arXiv：在本项设置下收益不明显<a class="headerlink" href="#66-arxiv" title="Permanent link">¶</a></h3>
<ul>
<li>在1.3B与7B上做过多组对比，<strong>仅用arXiv系语料</strong>进行数学训练，对GSM8K、MATH、MMLU STEM乃至miniF2F并无收益，甚至会退化。下表节选两组结果：<ul>
<li>7B基座数学训练于MathPile或ArXiv-RedPajama后，GSM8K和MATH均低于无数学训练的同尺寸基座某些项；</li>
<li>miniF2F上，arXiv训练后的valid与test也显著低于无数学训练。</li>
</ul>
</li>
</ul>
<blockquote>
<p>注：作者也强调这一结论有范围条件，未来还需在更大模型或更细分任务上再次验证。
</p>
</blockquote>
<h3 id="67">6.7 模块作用与数据支撑小结<a class="headerlink" href="#67" title="Permanent link">¶</a></h3>
<ul>
<li><strong>网页数学语料</strong>：把1.3B从GSM8K 14.3%左右提升到23.8%，CMATH从19.9%到41.5%，并延缓“平台期”。这证明迭代抓取与去污确实在质量与规模上更优。</li>
<li><strong>代码初始化与保留</strong>：7B Base在MATH 36.2%且MMLU STEM 56.5%，说明代码分布对数学与通用推理都有正向作用；在1.3B上，代码→数学的两阶段和代码+数学混合均能提升PoT与编程类基准。</li>
<li><strong>SFT统一格式</strong>：Instruct 7B不开工具已到MATH 46.8%，为RL提供了稳定起点。</li>
<li><strong>GRPO强化学习</strong>：在不引入价值网络的前提下，把MATH再抬5个点到51.7%，且GSM8K到88.2%；核心收益是让“正确解”更集中，Maj@K显著上升。</li>
<li><strong>剔除潜在无效数据源</strong>：在本设置下，单用arXiv难以提升数学推理，资源更应倾斜到网页挖掘与高质结构化题解。</li>
</ul>
<p><strong>实施建议</strong></p>
<ol>
<li><strong>先把数学网页“挖干净”</strong>：做一个领域判别器先跑通闭环；从域名和路径模板扩张；严格n-gram去污染。</li>
<li><strong>保留代码与通用文本的占比</strong>：继续预训练阶段维持混合，避免数学强化后通用与编程能力塌陷。</li>
<li><strong>SFT统一模板，口径一致</strong>：题面-推理-答案的三段式有利于后续RL与评测。</li>
<li><strong>RL优先用GRPO</strong>：组大小4到8，温和KL，先看Maj@K曲线是否上扬；必要时做两轮迭代RL。</li>
</ol>
<h2 id="7">7. 总结与思考<a class="headerlink" href="#7" title="Permanent link">¶</a></h2>
<p>DeepSeekMath 是一套完整的“工学方法论”：</p>
<ul>
<li>用<strong>迭代式数据挖掘</strong>把“数学文本的真实分布”搬进模型；<ul>
<li>先做一个“领域相关度”判别器，尽快让抓取闭环跑起来；</li>
<li>极度重视去重与泄漏守门，优先构建评测 n-gram 黑名单；</li>
<li>对薄弱子域（如几何）单独补齐来源和标注；</li>
<li>混合保留一部分代码和通用文本，防止能力塌陷。</li>
</ul>
</li>
<li>用<strong>统一的指令格式</strong>提升可训练性与可评测性；<ul>
<li>继续预训练阶段关注“结构稳定性”与“公式还原”，多做灰度评估；</li>
<li>SFT 统一模板，严格对齐评测口径；</li>
</ul>
</li>
<li>用<strong>轻量 RL</strong> 做最后的分布修正，让正确解更“可复现”。<ul>
<li>RL 起步用 GRPO，G 取 4 到 8，KL 从小到中递增，重点盯 Maj@K 与解的多样性。</li>
</ul>
</li>
<li>除了标准分数，务必看两件事：<ul>
<li>正确解是否集中在少量模式（多样性下降的风险）；</li>
<li>错误是否集中在某些子域（面向数据回补与训练再平衡）。</li>
</ul>
</li>
</ul>
<p>这四个抓手在其他领域依然成立：先把数据分布找对，再把训练工艺走顺，然后用小而稳的 RL 优化，最后评价回溯。</p>
<p><strong>参考</strong></p>
<ul>
<li>DeepSeekMath: Pushing the Limits of Mathematical Reasoning in Open Language Models, arXiv:2402.03300</li>
</ul>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "toc.follow", "navigation.top", "content.code.copy", "content.action.edit", "content.tabs.link", "search.highlight", "search.suggest", "header.autohide"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/glightbox/dist/js/glightbox.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
      
        <script src="../../javascripts/config.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>